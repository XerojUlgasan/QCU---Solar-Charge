create table public.tbl_admin (
  admin_id character varying not null,
  username character varying not null,
  email character varying null,
  password character varying not null,
  backup_email character varying null,
  full_name character varying null,
  constraint tbl_admin_pkey primary key (admin_id),
  constraint tbl_admin_backup_email_key unique (backup_email),
  constraint tbl_admin_email_key unique (email),
  constraint tbl_admin_username_key unique (username)
) TABLESPACE pg_default;

create table public.tbl_contacts (
  contact_id character varying not null,
  user_id character varying not null,
  subject character varying null,
  message text null,
  "from" character varying null,
  "hasRead" boolean null,
  responded boolean null,
  photo_url character varying null,
  timestamp timestamp without time zone null,
  constraint tbl_contacts_pkey primary key (contact_id),
  constraint tbl_contacts_user_id_fkey foreign KEY (user_id) references tbl_users (user_id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.tbl_deviceconfig (
  "deviceConfig_id" character varying not null,
  device_id character varying not null,
  device_enabled boolean null,
  max_batt numeric null,
  min_batt numeric null,
  max_temp numeric null,
  min_temp numeric null,
  minute_per_peso numeric null,
  samples_per_hour numeric null,
  update_gap_seconds numeric null,
  constraint tbl_deviceConfig_pkey primary key ("deviceConfig_id"),
  constraint tbl_deviceConfig_device_id_fkey foreign KEY (device_id) references tbl_devices (device_id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.tbl_devices (
  device_id character varying not null,
  name character varying null,
  building character varying null,
  location character varying null,
  date_added timestamp without time zone null,
  constraint tbl_devices_pkey primary key (device_id)
) TABLESPACE pg_default;

create table public.tbl_devicesdata (
  data_id character varying not null,
  device_id character varying not null,
  volt numeric null,
  current numeric null,
  energy numeric null,
  power numeric null,
  "battVolt" numeric null,
  temperature numeric null,
  last_updated timestamp without time zone null,
  constraint tbl_devicesdata_pkey primary key (data_id),
  constraint tbl_devicesdata_device_id_fkey foreign KEY (device_id) references tbl_devices (device_id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.tbl_energyhistory (
  "energyHistory_id" character varying not null,
  device_id character varying not null,
  date_time timestamp without time zone null,
  current numeric null,
  voltage numeric null,
  energy_accumulated numeric null,
  temperature numeric null,
  constraint tbl_energyhistory_pkey primary key ("energyHistory_id"),
  constraint tbl_energyhistory_device_id_fkey foreign KEY (device_id) references tbl_devices (device_id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.tbl_ratings (
  rating_id character varying not null,
  user_id character varying not null,
  "dateTime" timestamp without time zone null,
  email character varying null,
  name character varying null,
  building character varying null,
  location character varying null,
  comment text null,
  rate numeric null,
  photo character varying null,
  constraint tbl_ratings_pkey primary key (rating_id),
  constraint tbl_ratings_user_id_fkey foreign KEY (user_id) references tbl_users (user_id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.tbl_reports (
  report_id character varying not null,
  device_id character varying not null,
  user_id character varying not null,
  "dateTime" timestamp without time zone null,
  name character varying null,
  email character varying null,
  description text null,
  type character varying null,
  status character varying null,
  "urgencyLevel" character varying null,
  photo character varying null,
  constraint tbl_reports_pkey primary key (report_id),
  constraint tbl_reports_device_id_fkey foreign KEY (device_id) references tbl_devices (device_id) on update CASCADE on delete CASCADE,
  constraint tbl_reports_user_id_fkey foreign KEY (user_id) references tbl_users (user_id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.tbl_sessions (
  transaction_id character varying not null,
  device_id character varying not null,
  date_time timestamp without time zone null,
  amount numeric null,
  constraint tbl_sessions_pkey primary key (transaction_id),
  constraint tbl_sessions_device_id_fkey foreign KEY (device_id) references tbl_devices (device_id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.tbl_users (
  user_id character varying not null,
  email character varying not null,
  full_name character varying null,
  last_login timestamp without time zone null,
  last_logout timestamp without time zone null,
  constraint tbl_users_pkey primary key (user_id)
) TABLESPACE pg_default;